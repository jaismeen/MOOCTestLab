<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>flowchart.js Â· Playground</title>
        <script src="http://raphaeljs.com/raphael.js"></script>
        <script src="js/flowchart-1.1.3.js"></script>
        <script>
            var appndBtn;
            var codeString="";
            var piece, chart;
            window.onload = function () {
                var btn = document.getElementById("run"),
                cd = document.getElementById("code");
                appndBtn=document.getElementById("append");
                piece=document.getElementById("samplecode");
                

                (btn.onclick = function () {
                    var code = cd.value;

                    if (chart) {
                      chart.clean();
                    }

                    chart = flowchart.parse(code);
                    chart.drawSVG('canvas', {
                      'line-width': 3,
                      'line-length': 50,
                      'text-margin': 10,
                      'font-size': 14,
                      'font-color': 'black',
                      'line-color': 'black',
                      'element-color': 'black',
                      'fill': 'white',
                      'yes-text': 'yes',
                      'no-text': 'no'
                    });
                })();

            };
            function appendFn()
            {
                alert (piece.value);
                codeString= codeString + piece.value + "\n";
                alert(codeString);
                if (chart) {
                    chart.clean();
                }
                
                chart = flowchart.parse(codeString);
                chart.drawSVG('canvas', {
                              'line-width': 3,
                              'line-length': 50,
                              'text-margin': 10,
                              'font-size': 14,
                              'font-color': 'black',
                              'line-color': 'black',
                              'element-color': 'black',
                              'fill': 'white',
                              'yes-text': 'yes',
                              'no-text': 'no'
                              });
                
            }

        </script>
    </head>
    <body>
        sample code <input type="text" id = "samplecode" name="samplecode"><br>
            <button id="append" type="button" onclick="appendFn()">Append</button>
            
        <div><textarea id="code" style="width: 100%;" rows="11">
st=>start: Start:>http://www.google.com[blank]
e=>end:>http://www.google.com
op1=>operation: My Operation
sub1=>subroutine: My Subroutine
cond=>condition: Yes 
or No?:>http://www.google.com
io=>inputoutput: catch something...

st->op1->cond
cond(yes)->io->e
cond(no)->sub1->op1
        </textarea></div>
        <div><button id="run" type="button" >Run</button></div>
        <div id="canvas"></div>
    </body>
</html>
